import{j as s,c as f,u as N,r as t,D as S,a as k}from"./index-BGHBJPkP.js";function g({value:e}){const a=N();return s.jsx("div",{className:f("summary__chip",{"summary__chip--hidden":e===0}),children:s.jsx("span",{children:a.summary.chip(String(e))})})}function v({checked:e,count:a,id:i,label:c,onChange:o}){return s.jsx("div",{className:"summary__item",children:s.jsxs("label",{className:"summary__checkbox",children:[s.jsxs("span",{className:"summary__label",children:[c,":"]}),s.jsx("span",{className:"summary__count",children:a}),s.jsx("input",{className:"summary__input",type:"checkbox",checked:e??!1,onChange:n=>o?.(n.target.checked)}),s.jsx("span",{className:`summary__checkmark summary__day type-of-day--${i}`})]})})}function R(){const{year:e,userRecords:a}=t.useContext(S),[i,c]=t.useState(0),[o,n]=t.useState({}),[y,d]=t.useState(a),[x,p]=t.useState(e),_=(r,u,l)=>{n(m=>({...m,[r]:l})),c(m=>m+(l?u:-u))};(a!==y||e!==x)&&(c(0),d(a),p(e),n({}));const h=k.summarizeUserRecords(a,e);return!h||h.length===0?null:s.jsxs("div",{className:"summary",children:[s.jsx(g,{value:i}),s.jsx("div",{className:"summary__list",children:h.map(({id:r,label:u,count:l,value:m})=>r===0?null:s.jsx(v,{id:r,label:u,count:l,value:m,checked:!!o[r],onChange:j=>_(r,m,j)},`summary-item-${e}-${r}`))})]},`summary-${e}`)}export{R as default};
